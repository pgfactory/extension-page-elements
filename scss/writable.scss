// === writable widget

//#pfy.pfy-default-styling .pfy-encapsulated,
.pfy-default-styling {

  .pfy-writable-textarea-widget,
  .pfy-writable-widget {
    position: relative;
    overflow: hidden;
    input,
    textarea {
      border-radius: 0.25em;
      border: 1px solid var(--pfy-form-field-border, var(--pfy-form-field-border-default, #b4b3b3));
      padding: 0 0.3em;
      background-color: var(--pfy-form-field-background-color, var(--pfy-form-field-background-color-default, #fffff6));

    }

    .pfy-mini-button {
      position: absolute;
      top: 2px;
      right: calc(0em - var(--pfy-writable-widget-button-width, var(--pfy-writable-widget-height, 2em)));
      transition: right 0.3s;
      width: var(--pfy-writable-widget-button-width, var(--pfy-writable-widget-height, 2em));
      height: calc(100% - 4px);
      max-height: 2em;
      text-align: center;
      border: 1px solid gray;
      border-radius: 0.25em;
      background: -webkit-linear-gradient(#FFF 0%, #EFEFEF 60%, #E1DFE2 100%);
      background: -ms-linear-gradient(#FFF 0%, #EFEFEF 60%, #E1DFE2 100%);
      background: linear-gradient(#FFF 0%, #EFEFEF 60%, #E1DFE2 100%);
      cursor: pointer;
    }

  }


  .pfy-writable-widget {
//    position: relative;
//    overflow: hidden;
//    max-width: 20em;
    height: var(--pfy-writable-widget-height, 2em);
    line-height: var(--pfy-writable-widget-height, 2em);

    .pfy-writable-widget-inner,
    input {
      height: 100%;
      width: 100%;
//      border-radius: 0.25em;
//      border: 1px solid var(--pfy-form-field-border, var(--pfy-form-field-border-default, #b4b3b3));
//      padding: 0 0.3em;
//      background-color: var(--pfy-form-field-background-color, var(--pfy-form-field-background-color-default, #fffff6));
    }

    input {
      line-height: 100%;
    }

    input:focus {
      padding-right: calc(var(--pfy-writable-widget-button-width, var(--pfy-writable-widget-height, 2em)) + 0.25em);
    }

    input:focus + .pfy-mini-button {
      right: 2px;
      transition: right 0.3s;
    }
  }
.pfy-writable-widget-wrapper {

    textarea::placeholder,
    input::placeholder {
      text-align: right;
      font-style: italic;
      font-size: 80%;
    }

  .pfy-auto-grow {
    /* easy way to plop the elements on top of each other and have them both sized based on the tallest one's height */
    display: grid;
  }
  .pfy-auto-grow::after {
    /* Note the weird space! Needed to preventy jumpy behavior */
    content: attr(data-replicated-value) " ";

    /* This is how textarea text behaves */
    white-space: pre-wrap;

    /* Hidden from view, clicks, and screen readers */
    visibility: hidden;
  }
  .pfy-auto-grow > textarea {
    /* You could leave this, but after a user resizes, then it ruins the auto sizing */
    resize: none;

    /* Firefox shows scrollbar on growth, you can hide like this. */
    overflow: hidden;
  }
  .pfy-auto-grow > textarea,
  .pfy-auto-grow::after {
    /* Identical styling required!! */
    border: 1px solid gray;
    padding: 0.5rem;
    font: inherit;

    /* Place on top of each other */
    grid-row-start: 1;
    grid-column-start: 1;
    grid-row-end: 2;
    grid-column-end: 2;

  }

} // pfy-writable-widget-wrapper

  .pfy-writable-textarea-widget {
//    position: relative;
//    overflow: hidden;
    textarea:focus {
      padding-right: calc(var(--pfy-writable-widget-button-width, var(--pfy-writable-widget-height, 2em)) + 0.25em);
    }

    textarea:focus + .pfy-mini-button {
      right: 2px;
      transition: right 0.3s;
    }

        .pfy-mini-button {
          max-height: 1.6em;
          max-width: 2em;
//      height: 2em;
    }
  }
} // pfy-default-styling
